<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.thirdproject.mappers.StudentsMapper">

	<select id="selectAll" resultType="studentsVo">
		SELECT no,
		name,
		school_name AS schoolName, 
		school_grade AS schoolGrade,
		birthdate,
		gender,
		student_cellphone AS studentCellphone,
		parent_cellphone AS parentCellphone,
		comments, teacher_no AS teacherNo
		FROM students ORDER BY no DESC
	</select>

	<select id="selectOne" parameterType="int"
		resultType="studentsVo">
		SELECT no,
		name,
		school_name AS schoolName, 
		school_grade AS schoolGrade,
		birthdate,
		gender,
		student_cellphone AS studentCellphone,
		parent_cellphone AS parentCellphone,
		comments, teacher_no AS teacherNo
		FROM students WHERE no=#{no}
	</select>

	<insert id="insert" parameterType="studentsVo">
		INSERT INTO students
		(name, school_name, school_grade, birthdate, gender, student_cellphone, parent_cellphone, comments, teacher_no)
		VALUES(#{name}, #{schoolName}, ${schoolGrade}, #{birthdate}, #{gender}, #{studentCellphone}, #{parentCellphone}, #{comments}, #{teacherNo})
	</insert>

	<update id="update" parameterType="studentsVo"> 
		UPDATE students 
		SET	name=#{name}, school_name=#{schoolName}, school_grade=#{schoolGrade},
		birthdate=#{birthdate}, gender=#{gender}, student_cellphone=#{studentCellphone},
		parent_cellphone=#{parentCellphone}, comments=#{comments}, teacher_no=#{teacherNo}
		WHERE no=#{no}
	</update>


	<delete id="delete" parameterType="int">
		DELETE FROM students 
		WHERE no=#{no}
	</delete>
	
	
</mapper>